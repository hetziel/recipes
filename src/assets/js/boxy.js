(()=>{var d,q="open-modal",z="close-modal",h="modal",f,N=r=>{let l=r.target.closest(`[${q}]`);if(l){if(d=l.getAttribute(q),!d)return;let t=document.querySelectorAll(`[${h}="${d}"].b-modal`);t.length===1?(f=t[0],f.classList.add("opened")):t.length>1?console.error(`Se han encontrado ${t.length} modales con el mismo valor "${d}"`):console.error(`No se ha encontrado ninguna modal con: ${h}="${d}"`)}else d&&f&&V(r)};function V(r){let l=!r.target.closest(`[${h}="${d}"].b-modal [bx-content]`),t=r.target.closest(`[${h}].b-modal [bx-content] [${z}]`),s=r.target.closest(`[${h}].b-modal [bx-content] [maximize-modal]`),c=r.target.closest(`[${h}="${d}"].b-modal[persistent]`);window.addEventListener("keydown",w=>{w.key==="Escape"&&f?.classList.contains("opened")&&H()},{once:!0}),(t&&l&&!c||t||f&&l&&!c)&&H(),f&&s&&f.classList.toggle("maximized")}function H(){v(d),d=null,f=null}async function v(r){let l=document.querySelector(`.b-modal[modal="${r}"]`);return l?(l.classList.add("closed"),await new Promise(t=>{setTimeout(()=>{l.classList.remove("opened"),l.classList.remove("closed"),t()},400)}),!0):!1}var C=r=>{let l=r.target.closest(".b-windows");if(l){let t=l.querySelectorAll("[bx-head] [bx-title]");t.forEach((s,c)=>{r.target==s&&A(l,c,t.length)})}};function k(){document.querySelectorAll(".b-windows").forEach(r=>{let l=0,t=r.querySelectorAll("[bx-head] [bx-title]");t.forEach((s,c)=>{l<1&&s.hasAttribute("default")?(console.log(s),l++,A(r,c,t.length)):l<1&&A(r,0,t.length)})})}function A(r,l,t){let s=r.querySelectorAll("[bx-content]");t==s.length?s.forEach((c,m)=>{l==m?c.classList.add("opened"):c.classList.remove("opened")}):console.error("Error en b-windows: La cantidad de titles no es igual al content")}var b=null;var M=()=>{let r=document.querySelectorAll(".b-nav-menu>li>ul");function l(){b&&(b.style.opacity="",b.style.pointerEvents="",b=null)}r.forEach(t=>{t.addEventListener("mouseover",function(s){s.target.tagName==="LI"&&s.target.children.length>1?(l(),Array.from(s.target.children).forEach(m=>{m.tagName==="UL"&&(b=m,b.style.opacity="1",b.style.pointerEvents="all")})):b&&s.target.parentElement===t&&s.target.tagName==="LI"&&s.target.children.length<=1&&l()}),t.addEventListener("mouseout",function(s){t.contains(s.relatedTarget)||l()})})};var O=!0;if(O){let I=function(e=!1){e?document.body.setAttribute("version",r):document.body.removeAttribute("version")},E=function(){document.querySelectorAll("[bg-img]").forEach(function(e){let n=e.getAttribute("bg-img");n&&(e.style.backgroundImage="url("+n+")",e.setAttribute("bg-img",""))})},T=function(e,n){if(e&&n)g("color",e,n,!0),g("bg",e,n,!0),g("tx",e,n,!0);else{let o=[];o.primary="blue",o.secondary="gray",o.success="green",o.warning="yellow",o.danger="red",o.info="light-blue",o.light="white",o.dark="dark-gray";for(let a in o)g("color",a,o[a]),g("bg",a,o[a]),g("tx",a,o[a])}},g=function(e,n,o,a){document.querySelectorAll("["+e+"]").forEach(function(i){a?i.attributes[e]&&i.attributes[e].value==n&&(i.removeAttribute(e),i.setAttribute(e,o)):i.attributes[e].value==n&&(i.setAttribute("rs",i.attributes[e].value),i.setAttribute(e,o))})},W=function(){document.body.addEventListener("click",function(e){let n=e.target.closest("[mobile-side]"),o=document.querySelector(".b-side[opened]");n&&(n.parentNode.hasAttribute("opened")?n.parentNode.removeAttribute("opened"):(o&&o.removeAttribute("opened"),n.parentNode.setAttribute("opened",""))),!e.target.closest(".b-side[opened]")&&o&&o.removeAttribute("opened");let i=e.target.closest("[open-nav]");if(i&&l!=L()&&(t=!1),!t)i&&(i.parentNode.querySelector("[bx-content]").setAttribute("opened",""),t=!0,l=L());else if(!e.target.closest(".b-header [bx-content][opened]")){let y=document.querySelector(".b-header [bx-content][opened]");y&&(y.removeAttribute("opened"),t=!1)}let u=e.target.closest(".b-menu [bx-title]");if(u){let S=u.parentNode.hasAttribute("autoclose"),y=u.parentNode.querySelectorAll("[bx-title]"),$=u.parentNode.querySelectorAll("[bx-content]"),p=u.nextElementSibling;S&&y&&$&&(y.forEach(x=>{x!=u&&x.removeAttribute("active")}),$.forEach(x=>{x!=p&&(x.style.maxHeight=null)})),u.setAttribute("active",""),p.hasAttribute("bx-content")&&(p.style.maxHeight?(p.style.maxHeight=null,u.removeAttribute("active")):p.style.maxHeight=p.scrollHeight+"px")}N(e),C(e)}),document.addEventListener("mousedown",function(e){let n=e.target.closest('[class^="b-btn"][ripple]');if(n){let o=document.createElement("span"),a=Math.max(n.clientWidth,n.clientHeight),i=a/2;o.style.width=o.style.height=`${a}px`,o.style.left=`${e.clientX-n.offsetLeft-i}px`,o.style.top=`${e.clientY-n.offsetTop-i}px`,o.classList.add("ripple"),n.appendChild(o),setTimeout(()=>n.removeChild(o),500)}})},r="0.5.17";window.addEventListener("load",e=>{P()}),window.addEventListener("DOMContentLoaded",()=>{console.log("Boxy "+r+" is mounted"),W()}),P=()=>{I(!1),E(),k(),M()};let l="",t=!1,s=document.body,c={attributes:!0,childList:!0,subtree:!0},m=(e,n)=>{T(),E()};new MutationObserver(m).observe(s,c);let L=()=>location.hash.slice(1).toLocaleLowerCase().split("/")[1]||"/"}var P;window.closePopupScreen=v;})();
//# sourceMappingURL=boxy.js.map
