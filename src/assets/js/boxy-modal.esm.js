var b=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var x=b((L,f)=>{var s,u="open-modal",p="close-modal",n="modal",l;function d(t,e,o=null){return o?t.hasAttribute(e)&&t.getAttribute(e)===o:t.hasAttribute("opacity")}var i={open(t){if(!t)return;let e=`[${n}="${t}"].b-modal`,o=document.querySelectorAll(e);if(!o){console.error(`No se encontr\xF3 ninguna modal con: ${n}="${t}"`);return}return o.length>1&&console.warn(`Se encontraron ${o.length} modales con ${n}="${t}". Usando la primera.`),l=o[0],l.classList.add("opened"),!0},modals:t=>{let e=t.target.closest("["+u+"]");if(e){s=e.getAttribute(u),i.open(s);return}if(s&&l){let o=!t.target.closest("["+n+'="'+s+'"].b-modal [bx-content]'),c=t.target.closest("["+n+"].b-modal [bx-content] ["+p+"]"),m=t.target.closest("["+n+"].b-modal [bx-content] [maximize-modal]"),a=t.target.closest("["+n+'="'+s+'"].b-modal[persistent]');window.addEventListener("keydown",r=>{r.key==="Escape"&&l&&l.classList.contains("opened")&&(i.close(s),s=null,l=null)}),(c&&o&&!a||c||l&&o&&!a)&&i.close(s),l&&m&&l.classList.toggle("maximized")}},close:async t=>{console.log("close");let e=document.querySelector('.b-modal[modal="'+t+'"]');if(!e)return!1;e.classList.add("closed");let o=400,c=d(e,"fx","fade"),m=d(e,"fx","slide"),a=d(e,"fx","in-out"),r=d(e,"opacity");return c&&r||a&&r?o=600:(c||a||m)&&(o=300),await new Promise(g=>{setTimeout(()=>{e.classList.remove("opened"),e.classList.remove("closed"),g()},o)}),!0},init:()=>{console.log("init"),document.body.addEventListener("click",function(t){console.log("click"),i.modals(t)})}};f.exports=i});export default x();
//# sourceMappingURL=boxy-modal.esm.js.map
